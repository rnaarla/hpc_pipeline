global:
  resolve_timeout: 5m

route:
  receiver: "slack-notifications"
  group_by: ["alertname"]
  group_wait: 30s
  group_interval: 5m
  repeat_interval: 1h

receivers:
  - name: "slack-notifications"
    slack_configs:
      - api_url: "https://hooks.slack.com/services/XXXX/XXXX/XXXX"
        channel: "#hpc-alerts"
        send_resolved: true
        title: "[HPC Pipeline Alert] {{ .CommonAnnotations.summary }}"
        text: "{{ .CommonAnnotations.description }}"

  - name: "pagerduty"
    pagerduty_configs:
      - routing_key: "<PAGERDUTY_KEY>"
        severity: "critical"

  - name: "email"
    email_configs:
      - to: "ops-team@example.com"
        from: "hpc-monitor@example.com"
        smarthost: "smtp.example.com:587"
        auth_username: "monitor@example.com"
        auth_password: "<EMAIL_PASSWORD>"
        require_tls: true 